<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hearth and Heal | Our Mission</title>
    <meta name="description" content="Our vision is to heal the world and make it habitable for every individual.">
    <meta name="p:domain_verify" content="9f14e2fe9ee4fc0edf7d136a1885755e" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">

    <!-- Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Auth Protection -->
    <script src="auth.js"></script>
</head>

<body>

    <!-- Navigation -->
    <header>
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <img src="assets/logo.png" alt="Hearth & Heal Logo">
            </a>
            <nav>
                <ul class="nav-links">
                    <li><a href="mission.html" class="nav-link active">Our Mission</a></li>
                    <li><a href="services.html" class="nav-link">Our Services</a></li>
                    <li><a href="shop.html" class="nav-link">Shop</a></li>
                    <li><a href="contact.html" class="nav-link">Get Involved</a></li>
                    <li><a href="login.html" class="nav-link" id="auth-link">Login</a></li>
                    <li><a href="contact.html" class="btn btn-primary">Donate</a></li>
                </ul>
            </nav>
            <div class="mobile-menu-btn">
                <i data-feather="menu"></i>
            </div>
        </div>
    </header>

    <main style="padding-top: 90px;">
        <!-- Mission Section -->
        <section id="mission" class="section-padding mission">
            <div class="container">
                <div class="section-header animate-on-scroll">
                    <h2>Our Vision</h2>
                    <p style="max-width: 800px; margin: 0 auto; line-height: 1.8; margin-bottom: 4rem;">
                        <strong>"Our vision is to heal the world and make it habitable for every individual."</strong>
                        <br><br>
                        We are committed to identifying and correcting the dysfunctions that prevent nations, societies,
                        families, and individuals from fulfilling their true purpose as ordained by God—offering
                        solutions
                        that restore wholeness, dignity and divine alignment.
                    </p>

                    <h2>Our Mission</h2>
                    <p style="max-width: 800px; margin: 0 auto; line-height: 1.8;">
                        <strong>"Hearth & Heal exists to provide a safe, inclusive, and restorative environment for
                            individuals navigating personal adversity, relational dysfunction and social
                            marginalization."</strong>
                        <br><br>
                        Grounded in the truth of God’s word, we are committed to fostering healing through compassionate
                        support, reflective dialogue and community engagement. By offering judgement-free spaces,
                        self-help
                        resources, and practical guidance, we empower individuals to process their experiences, reclaim
                        their power and pursue a future rooted in dignity, clarity and the divine purpose revealed
                        through
                        scripture.
                    </p>
                </div>

                <div class="values-grid">
                    <div class="value-card animate-on-scroll">
                        <div class="icon"><i data-feather="heart"></i></div>
                        <h3>Compassion over Judgement</h3>
                        <p>We meet every story with tenderness and acceptance—believing that healing begins with being
                            heard.</p>
                    </div>
                    <div class="value-card animate-on-scroll">
                        <div class="icon"><i data-feather="book-open"></i></div>
                        <h3>Truth Rooted in God’s Word</h3>
                        <p>We anchor our work in scripture, trusting that divine truth brings clarity, conviction, and
                            restoration.</p>
                    </div>
                    <div class="value-card animate-on-scroll">
                        <div class="icon"><i data-feather="user-check"></i></div>
                        <h3>Dignity for Every Individual</h3>
                        <p>Every person carries worth. We honor that by creating spaces where people feel seen, safe,
                            and
                            respected.</p>
                    </div>
                    <div class="value-card animate-on-scroll">
                        <div class="icon"><i data-feather="users"></i></div>
                        <h3>Healing Through Community</h3>
                        <p>We believe transformation happens in relationship with others and with God. We foster
                            connection,
                            not isolation.</p>
                    </div>
                    <div class="value-card animate-on-scroll">
                        <div class="icon"><i data-feather="sun"></i></div>
                        <h3>Empowerment Through Self-Help</h3>
                        <p>We equip individuals with tools to understand themselves, make wise choices, and walk on
                            their
                            own journey.</p>
                    </div>
                </div>

                <div class="section-footer animate-on-scroll"
                    style="margin-top: 4rem; text-align: center; max-width: 800px; margin-left: auto; margin-right: auto;">
                    <h3
                        style="font-size: 1.5rem; color: var(--color-primary); font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em;">
                        "We don’t chase flawless outcomes – We pursue wholeness, grace, and the courage to begin again."
                    </h3>
                </div>
            </div>
        </section>

        <!-- Personnel Section -->
        <section id="team" class="section-padding team">
            <div class="container">
                <div class="section-header animate-on-scroll">
                    <h2>Our Team</h2>
                    <p>The dedicated hearts and minds behind Hearth & Heal.</p>
                    <!-- Admin Add Button -->
                    <button id="add-member-btn" class="btn btn-primary" style="display: none; margin-top: 1rem;"
                        onclick="openEditModal()">
                        <i data-feather="plus"></i> Add Team Member
                    </button>
                </div>

                <div class="team-grid" id="team-grid-container">
                    <!-- Dynamic Content Loaded Here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <a href="index.html" class="footer-logo">Hearth & Heal</a>
                    <p class="footer-bio">
                        Fostering community resilience and personal well-being through connection, support, and care.
                    </p>
                </div>

                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <div class="footer-links">
                        <a href="mission.html">Our Mission</a>
                        <a href="services.html">Our Services</a>
                        <a href="shop.html">Shop</a>
                        <a href="contact.html">Get Involved</a>
                        <a href="#">Privacy Policy</a>
                    </div>
                </div>

                <div class="footer-col">
                    <h4>Connect with Us</h4>
                    <div class="social-links">
                        <!-- TikTok -->
                        <a href="https://www.tiktok.com/@hearth.heal.org" class="social-icon" aria-label="TikTok"
                            target="_blank" rel="noopener noreferrer">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5" />
                            </svg>
                        </a>
                        <!-- Instagram -->
                        <a href="https://www.instagram.com/hearthandhealorg/" class="social-icon" aria-label="Instagram"
                            target="_blank" rel="noopener noreferrer">
                            <i data-feather="instagram"></i>
                        </a>
                        <!-- X (Twitter) -->
                        <a href="https://twitter.com/hearthandhealorg" class="social-icon" aria-label="X (Twitter)"
                            target="_blank" rel="noopener noreferrer">
                            <i data-feather="twitter"></i>
                        </a>
                        <!-- Facebook -->
                        <a href="https://facebook.com/hearthandhealorg" class="social-icon" aria-label="Facebook"
                            target="_blank" rel="noopener noreferrer">
                            <i data-feather="facebook"></i>
                        </a>
                        <!-- Pinterest -->
                        <a href="https://pinterest.com/hearthandhealorg" class="social-icon" aria-label="Pinterest"
                            target="_blank" rel="noopener noreferrer">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </a>
                        <!-- WhatsApp -->
                        <a href="https://wa.me/254114433429" class="social-icon" aria-label="WhatsApp" target="_blank"
                            rel="noopener noreferrer">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                                </path>
                            </svg>
                        </a>
                        <!-- YouTube -->
                        <a href="https://www.youtube.com/@hearthandheal" class="social-icon" aria-label="YouTube"
                            target="_blank" rel="noopener noreferrer">
                            <i data-feather="youtube"></i>
                        </a>
                    </div>
                </div>
            </div>

            <p class="copyright">&copy; 2024 Hearth and Heal Organization. All rights reserved.</p>
        </div>
    </footer>

    <!-- Edit Team Modal -->
    <div id="team-modal" class="modal-overlay"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3000;">
        <div class="modal-content"
            style="background: white; width: 90%; max-width: 500px; margin: 5% auto; padding: 2rem; border-radius: 12px; position: relative;">
            <button onclick="closeEditModal()"
                style="position: absolute; right: 1rem; top: 1rem; border: none; background: none; font-size: 1.5rem; cursor: pointer;">&times;</button>

            <h2 id="modal-title" style="margin-bottom: 1.5rem; color: var(--color-primary);">Add Team Member</h2>

            <form id="team-form" onsubmit="handleTeamSubmit(event)">
                <input type="hidden" id="member-id">

                <div class="form-group">
                    <label>Profile Image</label>
                    <input type="file" id="member-image" accept="image/*" onchange="previewImage(this)">
                    <img id="image-preview" src=""
                        style="max-width: 100px; max-height: 100px; margin-top: 10px; display: none; border-radius: 50%;">
                </div>

                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="member-name" required
                        style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px;">
                </div>

                <div class="form-group" style="margin-top: 1rem;">
                    <label>Role</label>
                    <input type="text" id="member-role" required
                        style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px;">
                </div>

                <div class="form-group" style="margin-top: 1rem;">
                    <label>Bio</label>
                    <textarea id="member-bio" rows="4" required
                        style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 8px;"></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1.5rem;">Save
                    Member</button>
            </form>
        </div>
    </div>


    <!-- Scripts -->
    <script src="script.js"></script>
    <script src="team.js"></script>
    <script>
        feather.replace();

        // Team Logic
        document.addEventListener('DOMContentLoaded', () => {
            renderTeam();
            checkAdmin();
        });

        function checkAdmin() {
            const user = Auth.getCurrentUser();
            if (user) {
                // Show Add Button for valid users
                document.getElementById('add-member-btn').style.display = 'inline-flex';
                document.body.classList.add('is-admin'); // Helper for CSS
            }
        }

        function renderTeam() {
            const grid = document.getElementById('team-grid-container');
            const members = TeamManager.getAll();
            const isAdmin = !!Auth.getCurrentUser();

            grid.innerHTML = members.map(m => `
                <div class="face-card animate-on-scroll">
                    <div class="face-card-img" style="position: relative;">
                        ${m.image ? `<img src="${m.image}" alt="${m.name}">` : `<i data-feather="user" style="width: 50px; height: 50px;"></i>`}
                        ${isAdmin ? `
                            <div class="admin-controls" style="position: absolute; top: 5px; right: 5px; gap: 5px; display: flex;">
                                <button onclick="editMember('${m.id}')" style="background: white; border: none; border-radius: 50%; padding: 5px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"><i data-feather="edit-2" style="width: 16px; height: 16px;"></i></button>
                                <button onclick="deleteMember('${m.id}')" style="background: #ff4d4d; color: white; border: none; border-radius: 50%; padding: 5px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"><i data-feather="trash-2" style="width: 16px; height: 16px;"></i></button>
                            </div>
                        ` : ''}
                    </div>
                    <h3>${m.name}</h3>
                    <div class="role">${m.role}</div>
                    <p>${m.bio}</p>
                </div>
            `).join('');

            feather.replace();
        }

        // Modal Logic
        const modal = document.getElementById('team-modal');
        const form = document.getElementById('team-form');
        let currentImageBase64 = '';

        function openEditModal() {
            document.getElementById('modal-title').textContent = 'Add Team Member';
            document.getElementById('member-id').value = '';
            form.reset();
            currentImageBase64 = '';
            document.getElementById('image-preview').style.display = 'none';
            modal.style.display = 'block';
        }

        async function editMember(id) {
            const member = TeamManager.getAll().find(m => m.id === id);
            if (!member) return;

            document.getElementById('modal-title').textContent = 'Edit Team Member';
            document.getElementById('member-id').value = member.id;
            document.getElementById('member-name').value = member.name;
            document.getElementById('member-role').value = member.role;
            document.getElementById('member-bio').value = member.bio;

            // Image handling (can't set file input value, but can show preview)
            if (member.image) {
                currentImageBase64 = member.image;
                const preview = document.getElementById('image-preview');
                preview.src = member.image;
                preview.style.display = 'block';
            }

            modal.style.display = 'block';
        }

        function closeEditModal() {
            modal.style.display = 'none';
        }

        async function previewImage(input) {
            if (input.files && input.files[0]) {
                const preview = document.getElementById('image-preview');
                try {
                    currentImageBase64 = await TeamManager.resizeImage(input.files[0]);
                    preview.src = currentImageBase64;
                    preview.style.display = 'block';
                } catch (e) {
                    alert('Error processing image');
                }
            }
        }

        function handleTeamSubmit(e) {
            e.preventDefault();
            const id = document.getElementById('member-id').value;
            const data = {
                name: document.getElementById('member-name').value,
                role: document.getElementById('member-role').value,
                bio: document.getElementById('member-bio').value,
                image: currentImageBase64
            };

            let result;
            if (id) {
                result = TeamManager.update(id, data);
            } else {
                result = TeamManager.add(data);
            }

            if (result.success) {
                closeEditModal();
                renderTeam();
            } else {
                alert(result.message);
            }
        }

        function deleteMember(id) {
            if (confirm('Are you sure you want to remove this member?')) {
                TeamManager.delete(id);
                renderTeam();
            }
        }

        // Close on outside click
        window.onclick = function (event) {
            if (event.target == modal) {
                closeEditModal();
            }
        }
    </script>
    <script src="chatbot.js"></script>
    <script src="auth.js"></script>
</body>

</html>
